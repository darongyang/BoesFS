# INFless论文阅读

## 摘要

（现有问题）ML普及。但ML也带来高成本。Serverless是潜在的解决办法，但目前不满足ML的低延迟，高吞吐的需求。

（创新性，特点，设计点概述）简单的修补无法解决问题，提出结合ML特点和无服务架构方法的系统。INFless，第一个切合ML的无服务架构平台。INFless提供：

- CPU和加速单元的统一，异构的抽象
- 内置的批处理和非均匀拓展方法，实现高吞吐
- 排队，执行，冷启动时间协调管理，实现低延迟

（测试环境、结果简述）在本地集群和大规模仿真下评估INFless。相对最先进系统带来了2-5倍吞吐量提高并满足低延迟目标。

## 介绍

（serverless背景）serverless因其“资源免管理”，“弹性调整”，“计费划算”，广泛运用。ML是serverless潜在方向，例如Alexa等。



（ML需求与现状）ML计算通常在网站实时进行，需要低延迟。举例如生活网站用于广告等等。低延迟通常限制在200ms。虽然serverless在这个方面有潜力，但目前厂商没有解决延迟保障问题，并且资源利用低。也就是：

- 服务标准不允许定制延迟
- 只提供CPU使用，无法提供其他加速计算器



（已有的方案）Mark和BATCH：

- 采用批处理方案。

- 采用OTP设计，在原来Serverless平台上添加一个buffer层。

- 在提高吞吐和效用同时，也引入了请求时延，没解决端到端时延保证。
- 不关心底层资源分配，吞吐量提高有限。例如，无法根据计算效率调整资源，不支持CPU和其他加速器的切换。



（作者方案）提出在原生上改造的serverless计算系统，平台内提供为ML计算设计，提供加速器支持，内置批处理等。如图1，原生改造相对于OTP方法：

- 全栈优化，从函数调度到资源管理
- 从而，全权负责，带来更高的性能和资源效率



（挑战与困难）ML原生的serverless系统面临的挑战：

- 低延迟。如何控制好端到端延迟（函数调度，实例启动，批处理等）。
- 高吞吐。加速器支持和内置批处理增加了资源管理和函数调度的复杂性。如何选择合适加速器、正确的批处理参数也是一个挑战。
- 低开销。保证可用，高效，轻量，易使用。



（作者设计）

INFless解决了上述挑战。INFless，首个ML定制的serverless平台，提供了BaaS。INFless介绍：

- 接收模型的代码，不同负载下自动化部署和拓展（功能）
- 允许定制高级性能需求，如延迟SLO（功能）
- 保证低延迟+高资源效率，通过结合ML计算和serverless原生改造（性能优化）



（作者的贡献）

贡献总结：

- 批处理管理和异构资源分配协同设计，不均匀的调整策略。达到资源效率最大化。
- 轻量的combined operator profiling方法计算实例最佳配置。满足延迟的需求。
- 创新的LSTH策略。减少冷启动率（非速率）21.9%，资源浪费24.3%。
- 基于OpenFaaS实现。并基于实际部署，大规模仿真两种测试场景展示了在资源效率和SLO保证的提升。



## 背景与动机

